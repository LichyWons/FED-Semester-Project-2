<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Auction House</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body class="bg-gray-900 text-gray-300">
    <header
      class="flex items-center space-x-3 p-4 sticky top-0 w-full z-50 bg-gray-900 border-b border-[var(--brand)]"
    >
      <div class="flex items-center flex-grow space-x-4">
        <img
          class="max-h-20 mt-5"
          src="../img/the_auction_house_logo.png"
          alt="Auction House Logo"
          id="logo"
        />
        <img
          id="nav-avatar-mobile"
          class="w-10 h-10 rounded-full object-cover border border-[var(--brand)] lg:hidden md:hidden"
          alt="User avatar"
        />
        <span
          id="nav-credits-mobile"
          class="text-sm text-neutral-200 lg:hidden md:hidden"
        ></span>
      </div>
      <button
        id="nav-toggle"
        type="button"
        class="hidden ml-auto md:hidden border border-[var(--brand)] rounded-xl px-3 py-2 hover:bg-[var(--brand)] transition-colors duration-300"
        aria-expanded="false"
        aria-controls="nav-mobile"
      >
        ☰
      </button>
      <div id="nav-user" class="flex ml-auto items-center space-x-6">
        <img id="nav-avatar" />
        <span id="nav-credits"></span>
        <a
          href="../index.html"
          class="hover:text-[var(--brand)] transition-colors duration-300"
          >Listings</a
        >
        <a
          aria-current="page"
          href=""
          class="border-b-2 border-[var(--brand)] text-[var(--brand)] cursor-default"
          >Profile</a
        >
        <a
          href="../createListing/"
          class="hover:text-[var(--brand)] transition-colors duration-300"
        >
          Create listing</a
        >
        <button
          class="bg-red-500 border border-grey-500 rounded-xl px-4 py-2 hover:bg-red-800 transition-colors duration-300"
          id="logout-btn"
        >
          Logout
        </button>
      </div>
    </header>
    <div
      id="nav-mobile"
      class="md:hidden fixed left-0 right-0 z-50 overflow-hidden max-h-0 opacity-0 -translate-y-2 transition-all duration-200 ease-out"
      aria-hidden="true"
    >
      <div
        class="border-b border-[var(--brand)] bg-gray-900 px-4 py-4 flex flex-col gap-3 items-center"
      >
        <a href="../profile/" class="mobile-link hover:text-[var(--brand)]"
          >Profile</a
        >
        <a
          href="../createListing/"
          class="mobile-link hover:text-[var(--brand)]"
          >Create listing</a
        >
        <a href="../index.html" class="mobile-link hover:text-[var(--brand)]"
          >Listings</a
        >
        <button
          id="logout-btn-mobile"
          class="bg-red-500 max-w-52 border border-grey-500 rounded-xl px-4 py-2 hover:bg-red-800 transition-colors duration-300"
        >
          Logout
        </button>
      </div>
    </div>
    <main class="max-w-5xl mx-auto px-4 py-8">
      <div class="mb-6">
        <a
          href="../index.html"
          class="inline-flex items-center gap-2 text-sm font-medium hover:underline"
        >
          ← All listings
        </a>
      </div>

      <div class="mb-6">
        <h1 class="text-3xl font-semibold leading-tight">Profile</h1>
        <p class="mt-2 text-sm text-neutral-400">
          Manage your avatar, check credits, and view your listings.
        </p>
      </div>

      <section class="grid gap-8 lg:grid-cols-5">
        <div class="lg:col-span-3 flex flex-col gap-6">
          <section class="rounded-2xl border border-neutral-200 p-4">
            <div class="flex items-center gap-4">
              <div
                class="w-20 h-20 rounded-2xl overflow-hidden bg-neutral-100 border border-neutral-200 flex-shrink-0"
                id="profileAvatarWrap"
              ></div>

              <div class="min-w-0">
                <h2 id="profileName" class="text-xl font-semibold truncate">
                  Loading...
                </h2>

                <div
                  class="mt-2 flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-neutral-400"
                >
                  <div>
                    Credits:
                    <span
                      id="profileCredits"
                      class="font-medium text-neutral-200"
                      >—</span
                    >
                  </div>
                  <div>
                    Email:
                    <span id="profileEmail" class="font-medium text-neutral-200"
                      >—</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="rounded-2xl border border-neutral-200 p-4">
            <div class="flex items-center justify-between">
              <h2
                class="text-sm font-semibold tracking-wide uppercase text-neutral-400"
              >
                My listings
              </h2>
              <span id="myListingsStatus" class="text-xs text-neutral-400"
                >—</span
              >
            </div>

            <div
              id="myListings"
              class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4"
            ></div>
          </section>
        </div>

        <aside class="lg:col-span-2 flex flex-col gap-4">
          <section class="rounded-2xl border border-neutral-200 p-4">
            <h2
              class="text-sm font-semibold tracking-wide uppercase text-neutral-400"
            >
              Update avatar
            </h2>

            <form id="avatar-form" class="mt-3 flex flex-col gap-3">
              <label class="text-sm text-neutral-200" for="avatarInput">
                Avatar image URL
              </label>

              <input
                type="url"
                id="avatarInput"
                name="avatar"
                class="text-neutral-900 border border-neutral-300 rounded-xl px-4 py-2"
                placeholder="https://..."
                required
              />

              <button
                type="submit"
                id="updateAvatarBtn"
                class="rounded-xl px-4 py-2 border bg-[var(--brand)] hover:bg-[var(--brand-hover)] transition text-neutral-200 border-neutral-900"
              >
                Update avatar
              </button>

              <p id="avatar-error" class="text-sm text-red-600"></p>
              <p id="avatar-success" class="text-sm text-emerald-700"></p>
            </form>
          </section>

          <section class="rounded-2xl border border-neutral-200 p-4">
            <h2
              class="text-sm font-semibold tracking-wide uppercase text-neutral-400"
            >
              Actions
            </h2>

            <div class="mt-3 flex flex-col gap-3">
              <a href="../createListing/">
                <button
                  class="w-full bg-[var(--brand)] border border-grey-500 rounded-xl px-4 py-2 hover:bg-[var(--brand-hover)] transition-colors duration-300"
                >
                  Create listing
                </button>
              </a>

              <a href="../index.html">
                <button
                  class="w-full border border-[var(--brand)] rounded-xl px-4 py-2 hover:bg-[var(--brand)] transition-colors duration-300"
                >
                  Browse listings
                </button>
              </a>
            </div>
          </section>
        </aside>
      </section>
    </main>

    <footer>
      <div
        class="bg-black text-gray-300 p-4 mt-10 border-t border-[var(--brand)]"
      >
        <p class="text-center">
          &copy; 2026 Krzysztof Bytniewski. All rights reserved.
        </p>
      </div>
    </footer>
  </body>
  <script type="module" src="./index.js"></script>
</html>
